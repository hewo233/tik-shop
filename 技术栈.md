# TikShop 技术栈关键词

> 一个采用现代微服务架构和企业级技术栈构建的电商平台项目

## 编程语言
- **Go 1.22.9** - 主要开发语言

## 微服务架构框架
- **CloudWeGo Kitex** - 字节跳动开源的高性能 RPC 框架，用于微服务间通信
- **CloudWeGo Hertz** - 字节跳动开源的 HTTP 框架，用于网关层 API 服务

## 服务治理与注册发现
- **etcd** - 分布式键值存储，用于服务注册与发现
- **kitex-contrib/registry-etcd** - Kitex 的 etcd 注册中心扩展

## 接口定义语言（IDL）
- **Apache Thrift** - 用于定义 RPC 服务接口和数据结构

## 数据库与 ORM
- **PostgreSQL** - 主要关系型数据库
- **GORM** - Go 语言 ORM 框架
  - `gorm.io/driver/postgres` - PostgreSQL 驱动
  - `gorm.io/gen` - GORM 代码生成工具
  - `gorm.io/plugin/dbresolver` - 数据库读写分离插件

## 认证与授权
- **PASETO** (Platform-Agnostic Security Tokens) - 安全令牌协议
  - `aidanwoods.dev/go-paseto` - PASETO Go 实现
  - `hertz-contrib/paseto` - Hertz 的 PASETO 中间件

## API 文档
- **Swagger/OpenAPI** - API 文档规范
  - `swaggo/swag` - Swagger 文档生成工具
  - `hertz-contrib/swagger` - Hertz 的 Swagger 集成

## 配置管理
- **Viper** - 配置文件解析库
- **godotenv** - 环境变量管理

## 工具库
- **jinzhu/copier** - 结构体复制工具
- **golang.org/x/crypto** - Go 官方加密库

## HTTP 中间件
- **hertz-contrib/gzip** - Gzip 压缩中间件

## 序列化
- **Sonic** - 字节跳动开源的高性能 JSON 序列化库

## 构建工具
- **Makefile** - 项目构建和代码生成自动化

## 开发工具
- **REST Client** - 用于测试 HTTP 接口（.http 文件）

## 项目架构特点
### 微服务列表
1. **user-service** - 用户服务
2. **product-service** - 商品服务
3. **order-service** - 订单服务
4. **cart-service** - 购物车服务

### 目录结构
- **idl/** - Thrift 接口定义文件
- **rpc/** - 各微服务实现
- **route/** - HTTP 网关层（基于 Hertz）
- **kitex_gen/** - Kitex 生成的代码
- **db/** - 数据库模型和查询层
- **shared/** - 共享代码（常量、错误码等）
- **test/** - 测试代码

## 技术栈总结
这是一个基于**字节跳动 CloudWeGo 生态**构建的电商微服务系统，采用 **Go 语言**开发，使用 **Kitex + Hertz** 实现微服务架构，**etcd** 作为服务注册中心，**PostgreSQL + GORM** 作为数据持久层，**PASETO** 进行身份认证，**Swagger** 提供 API 文档支持。

## 项目亮点

### 1. 企业级微服务架构
- **服务拆分合理**：按照业务领域划分为用户、商品、订单、购物车四个独立服务，遵循单一职责原则
- **服务通信高效**：使用 Thrift IDL 定义接口，通过 Kitex 实现高性能 RPC 通信
- **服务治理完善**：集成 etcd 实现服务注册发现，支持动态扩缩容

### 2. 采用字节跳动开源技术栈
- **CloudWeGo Kitex**：字节跳动内部广泛使用的 RPC 框架，经过海量流量验证
- **CloudWeGo Hertz**：高性能 HTTP 框架，性能优于传统 Gin 框架
- **Sonic**：字节跳动开源的 JSON 库，性能是标准库的数倍

### 3. 现代化开发实践
- **IDL 驱动开发**：使用 Thrift 定义接口，确保服务间契约一致性
- **代码生成自动化**：通过 Kitex 和 GORM Gen 自动生成模板代码，提升开发效率
- **API 文档自动化**：集成 Swagger，通过注释自动生成 API 文档
- **类型安全**：使用 Go 强类型语言，编译期发现问题

### 4. 安全性设计
- **现代化认证**：采用 PASETO 而非传统 JWT，避免算法混淆等安全隐患
- **加密支持**：集成 Go 官方加密库，保障数据安全

### 5. 数据库设计
- **成熟的 ORM**：使用 GORM，提供丰富的数据库操作能力
- **读写分离支持**：集成 dbresolver 插件，支持数据库读写分离
- **代码生成**：使用 gorm/gen 生成类型安全的查询代码

### 6. 可观测性与运维
- **配置管理**：使用 Viper 支持多种配置源和热更新
- **HTTP 优化**：集成 Gzip 压缩中间件，减少网络传输
- **开发体验**：提供 REST Client 测试文件，便于接口测试

### 7. 技术选型先进
- **Go 语言**：云原生时代首选语言，天然支持高并发
- **PostgreSQL**：功能强大的关系型数据库，支持 ACID 事务
- **etcd**：Kubernetes 等云原生项目的注册中心首选
- **Apache Thrift**：Facebook 开源的成熟 RPC 框架

## 适用场景
本项目技术栈适合以下应用场景：
- **高并发电商系统**：微服务架构支持独立扩缩容
- **企业级应用**：完善的服务治理和安全机制
- **云原生部署**：配合 Kubernetes 等容器编排工具
- **团队协作开发**：IDL 定义接口，前后端并行开发

## 技术深度体现
1. **分布式系统设计**：微服务拆分、服务注册发现、RPC 通信
2. **性能优化**：使用高性能框架（Kitex、Hertz、Sonic）
3. **工程化能力**：代码生成、自动化文档、构建脚本
4. **安全意识**：现代化认证方案、加密支持
5. **代码质量**：类型安全、接口定义、结构化错误处理
